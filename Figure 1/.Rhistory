mig_all_p <-
mig_all_clean_ave |>
mutate(`Colony ID` = reorder_within(`Colony ID`, desc(Mean), Species)) |>
drop_na() |>
ggplot(aes(x = `Colony ID`,
y = `% change`,
fill = Species,
color = Species)) +
geom_point(size = 0.5,
alpha = 0.25) +
geom_hline(yintercept = 0,
linetype = 'dashed',
color = 'black',
linewidth = 0.25) +
stat_summary(fun = 'mean',
size = 0.1) +
facet_grid(vars(cols = Species),
scales = 'free_y') +
scale_fill_manual(values = species_color_palette) +
scale_color_manual(values = species_color_palette) +
coord_flip() +
scale_x_reordered() +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_blank())
ggsave(plot = mig_all_p,
filename = 'Figure-01-B2.png',
dpi = 900,
width = 2500,
height = 10000,
units = "px")
View(mig_adig)
View(mig_adig_change_clean)
View(mig_all_clean)
View(mig_all_clean_ave)
mig_all_clean_ave |>
mutate(`Colony ID` = reorder_within(`Colony ID`, desc(Mean), Species)) |>
drop_na()
mig_all_p <-
mig_all_clean_ave |>
mutate(`Colony ID` = reorder_within(`Colony ID`, desc(Mean), Species))
View(mig_all_p)
mig_all_p <-
mig_all_clean_ave |>
mutate(`Colony ID` = reorder_within(`Colony ID`, desc(Mean), Species))|>
drop_na()
View(mig_all_p)
mig_all_p <-
mig_all_clean_ave |>
mutate(`Colony ID` = reorder_within(`Colony ID`, desc(Mean), Species))
View(mig_all_p)
# Make a df that will allow you to reorder and rank colonies based on MIG change averages
mig_all_clean_ave <-
mig_all_clean |>
dplyr::group_by(`Colony ID`) |>
drop_na() |>
mutate(Mean = mean(`% change`)) |>
ungroup()
mig_all_p <-
mig_all_clean_ave |>
mutate(`Colony ID` = reorder_within(`Colony ID`, desc(Mean), Species)) |>
ggplot(aes(x = `Colony ID`,
y = `% change`,
fill = Species,
color = Species)) +
geom_point(size = 0.5,
alpha = 0.25) +
geom_hline(yintercept = 0,
linetype = 'dashed',
color = 'black',
linewidth = 0.25) +
stat_summary(fun = 'mean',
size = 0.1) +
facet_grid(vars(cols = Species),
scales = 'free_y') +
scale_fill_manual(values = species_color_palette) +
scale_color_manual(values = species_color_palette) +
coord_flip() +
scale_x_reordered() +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_blank())
View(mig_all_p)
mig_all_p
mig_all_p <-
mig_all_clean_ave |>
mutate(`Colony ID` = reorder_within(`Colony ID`, desc(Mean), Species)) |>
ggplot(aes(x = `Colony ID`,
y = `% change`,
fill = Species,
color = Species)) +
geom_point(size = 0.5,
alpha = 0.25) +
geom_hline(yintercept = 0,
linetype = 'dashed',
color = 'black',
linewidth = 0.25) +
stat_summary(fun = 'mean',
size = 0.1) +
facet_grid(vars(cols = Species),
scales = 'free',
space = 'free') +
scale_fill_manual(values = species_color_palette) +
scale_color_manual(values = species_color_palette) +
coord_flip() +
scale_x_reordered() +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_blank())
mig_all_p
ggsave(plot = mig_all_p,
filename = 'Figure-01-B2.png',
dpi = 900,
width = 2500,
height = 10000,
units = "px")
mig_all_p <-
mig_all_clean_ave |>
mutate(`Colony ID` = reorder_within(`Colony ID`, desc(Mean), Species)) |>
ggplot(aes(x = `Colony ID`,
y = `% change`,
fill = Species,
color = Species)) +
geom_point(size = 0.5,
alpha = 0.25) +
geom_hline(yintercept = 0,
linetype = 'dashed',
color = 'black',
linewidth = 0.25) +
stat_summary(fun = 'mean',
size = 0.1) +
facet_grid(vars(cols = Species),
scales = 'free',
space = 'free') +
scale_fill_manual(values = species_color_palette) +
scale_color_manual(values = species_color_palette) +
coord_flip() +
scale_x_reordered() +
scale_x_reverse() +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_blank())
mig_all_p
mig_all_p <-
mig_all_clean_ave |>
mutate(`Colony ID` = reorder_within(`Colony ID`, desc(Mean), Species)) |>
ggplot(aes(x = `Colony ID`,
y = `% change`,
fill = Species,
color = Species)) +
geom_point(size = 0.5,
alpha = 0.25) +
geom_hline(yintercept = 0,
linetype = 'dashed',
color = 'black',
linewidth = 0.25) +
stat_summary(fun = 'mean',
size = 0.1) +
facet_grid(vars(cols = Species),
scales = 'free',
space = 'free') +
scale_fill_manual(values = species_color_palette) +
scale_color_manual(values = species_color_palette) +
coord_flip() +
scale_x_reverse() +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_blank())
mig_all_p
mig_all_p <-
mig_all_clean_ave |>
mutate(`Colony ID` = reorder_within(`Colony ID`, desc(Mean), Species)) |>
ggplot(aes(x = `Colony ID`,
y = `% change`,
fill = Species,
color = Species)) +
geom_point(size = 0.5,
alpha = 0.25) +
geom_hline(yintercept = 0,
linetype = 'dashed',
color = 'black',
linewidth = 0.25) +
stat_summary(fun = 'mean',
size = 0.1) +
facet_grid(vars(cols = Species),
scales = 'free',
space = 'free') +
scale_fill_manual(values = species_color_palette) +
scale_color_manual(values = species_color_palette) +
coord_flip() +
scale_x_reordered() +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_blank(),
axis.line.y = 'right')
mig_all_p
mig_all_p <-
mig_all_clean_ave |>
mutate(`Colony ID` = reorder_within(`Colony ID`, desc(Mean), Species)) |>
ggplot(aes(x = `Colony ID`,
y = `% change`,
fill = Species,
color = Species)) +
geom_point(size = 0.5,
alpha = 0.25) +
geom_hline(yintercept = 0,
linetype = 'dashed',
color = 'black',
linewidth = 0.25) +
stat_summary(fun = 'mean',
size = 0.1) +
facet_grid(vars(cols = Species),
scales = 'free',
space = 'free') +
scale_fill_manual(values = species_color_palette) +
scale_color_manual(values = species_color_palette) +
coord_flip() +
scale_x_reordered() +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_blank(),
axis.text.y.right = element_blank(),
axis.line.y.right = element_blank(),
axis.ticks.y.right = element_blank())
mig_all_p
mig_all_p <-
mig_all_clean_ave |>
mutate(`Colony ID` = reorder_within(`Colony ID`, desc(Mean), Species)) |>
ggplot(aes(x = `Colony ID`,
y = `% change`,
fill = Species,
color = Species)) +
geom_point(size = 0.5,
alpha = 0.25) +
geom_hline(yintercept = 0,
linetype = 'dashed',
color = 'black',
linewidth = 0.25) +
stat_summary(fun = 'mean',
size = 0.1) +
facet_grid(vars(cols = Species),
scales = 'free',
space = 'free') +
scale_fill_manual(values = species_color_palette) +
scale_color_manual(values = species_color_palette) +
coord_flip() +
scale_x_reordered() +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_blank(),
axis.text.y.left = element_blank(),
axis.line.y.left = element_blank(),
axis.ticks.y.left = element_blank())
mig_all_p
mig_all_p <-
mig_all_clean_ave |>
mutate(`Colony ID` = reorder_within(`Colony ID`, desc(Mean), Species)) |>
ggplot(aes(x = `Colony ID`,
y = `% change`,
fill = Species,
color = Species)) +
geom_point(size = 0.5,
alpha = 0.25) +
geom_hline(yintercept = 0,
linetype = 'dashed',
color = 'black',
linewidth = 0.25) +
stat_summary(fun = 'mean',
size = 0.1) +
facet_grid(vars(cols = Species),
scales = 'free',
space = 'free') +
scale_fill_manual(values = species_color_palette) +
scale_color_manual(values = species_color_palette) +
coord_flip() +
scale_x_reordered() +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_blank())
mig_all_p <-
mig_all_clean_ave |>
mutate(`Colony ID` = reorder_within(`Colony ID`, desc(Mean), Species)) |>
ggplot(aes(x = `Colony ID`,
y = `% change`,
fill = Species,
color = Species)) +
geom_point(size = 0.5,
alpha = 0.25) +
geom_hline(yintercept = 0,
linetype = 'dashed',
color = 'black',
linewidth = 0.25) +
stat_summary(fun = 'mean',
size = 0.1) +
facet_grid(vars(cols = Species),
scales = 'free',
space = 'free') +
scale_fill_manual(values = species_color_palette) +
scale_color_manual(values = species_color_palette) +
coord_flip() +
scale_y_discrete(position = 'right') +
scale_x_reordered() +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_blank())
mig_all_p
mig_all_p <-
mig_all_clean_ave |>
mutate(`Colony ID` = reorder_within(`Colony ID`, desc(Mean), Species)) |>
ggplot(aes(x = `Colony ID`,
y = `% change`,
fill = Species,
color = Species)) +
geom_point(size = 0.5,
alpha = 0.25) +
geom_hline(yintercept = 0,
linetype = 'dashed',
color = 'black',
linewidth = 0.25) +
stat_summary(fun = 'mean',
size = 0.1) +
facet_grid(vars(cols = Species),
scales = 'free',
space = 'free') +
scale_fill_manual(values = species_color_palette) +
scale_color_manual(values = species_color_palette) +
coord_flip() +
scale_y_continuous(position = 'right') +
scale_x_reordered() +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_blank())
mig_all_p
mig_all_p <-
mig_all_clean_ave |>
mutate(`Colony ID` = reorder_within(`Colony ID`, desc(Mean), Species)) |>
ggplot(aes(x = `Colony ID`,
y = `% change`,
fill = Species,
color = Species)) +
geom_point(size = 0.5,
alpha = 0.25) +
geom_hline(yintercept = 0,
linetype = 'dashed',
color = 'black',
linewidth = 0.25) +
stat_summary(fun = 'mean',
size = 0.1) +
facet_grid(vars(cols = Species),
scales = 'free',
space = 'free') +
scale_fill_manual(values = species_color_palette) +
scale_color_manual(values = species_color_palette) +
coord_flip() +
scale_x_continuous(position = 'right') +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_blank())
mig_all_p
mig_all_p <-
mig_all_clean_ave |>
mutate(`Colony ID` = reorder_within(`Colony ID`, desc(Mean), Species)) |>
ggplot(aes(x = `Colony ID`,
y = `% change`,
fill = Species,
color = Species)) +
geom_point(size = 0.5,
alpha = 0.25) +
geom_hline(yintercept = 0,
linetype = 'dashed',
color = 'black',
linewidth = 0.25) +
stat_summary(fun = 'mean',
size = 0.1) +
facet_grid(vars(cols = Species),
scales = 'free',
space = 'free') +
scale_fill_manual(values = species_color_palette) +
scale_color_manual(values = species_color_palette) +
coord_flip() +
scale_x_discrete(position = 'right') +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_blank())
mig_all_p
mig_all_p <-
mig_all_clean_ave |>
mutate(`Colony ID` = reorder_within(`Colony ID`, desc(Mean), Species)) |>
ggplot(aes(x = `Colony ID`,
y = `% change`,
fill = Species,
color = Species)) +
geom_point(size = 0.5,
alpha = 0.25) +
geom_hline(yintercept = 0,
linetype = 'dashed',
color = 'black',
linewidth = 0.25) +
stat_summary(fun = 'mean',
size = 0.1) +
facet_grid(vars(cols = Species),
scales = 'free',
space = 'free') +
scale_fill_manual(values = species_color_palette) +
scale_color_manual(values = species_color_palette) +
coord_flip() +
scale_x_reordered() +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_blank())
survival_data_long_hstressed_b_p <-
survival_data_long_hstressed_b |>
ggplot(aes(y = reorder(Colony, `% fragments healthy`),
x = `% fragments healthy`,
fill = Species)) +
geom_bar(stat = 'identity') +
labs(y = 'Colony ID') +
facet_grid(rows = vars(Species),
scales = 'free',
space = 'free') +
scale_y_discrete(position = right) +
scale_fill_manual(values = species_color_palette) +
theme_bw() +
theme(panel.grid = element_blank(),
strip.text = element_blank())
survival_data_long_hstressed_b_p <-
survival_data_long_hstressed_b |>
ggplot(aes(y = reorder(Colony, `% fragments healthy`),
x = `% fragments healthy`,
fill = Species)) +
geom_bar(stat = 'identity') +
labs(y = 'Colony ID') +
facet_grid(rows = vars(Species),
scales = 'free',
space = 'free') +
scale_y_discrete(position = 'right') +
scale_fill_manual(values = species_color_palette) +
theme_bw() +
theme(panel.grid = element_blank(),
strip.text = element_blank())
survival_data_long_hstressed_b_p
survival_data_long_hstressed_b_p <-
survival_data_long_hstressed_b |>
ggplot(aes(y = reorder(Colony, `% fragments healthy`),
x = `% fragments healthy`,
fill = Species)) +
geom_bar(stat = 'identity') +
labs(y = 'Colony ID') +
facet_grid(rows = vars(Species),
scales = 'free',
space = 'free') +
scale_y_discrete(position = 'right') +
scale_x_reverse() +
scale_fill_manual(values = species_color_palette) +
theme_bw() +
theme(panel.grid = element_blank(),
strip.text = element_blank())
survival_data_long_hstressed_b_p
ggsave(plot = survival_data_long_hstressed_b_p,
filename = 'Figure-01-B1.png',
dpi = 900,
width = 2500,
height = 10000,
units = "px")
pacman::p_load(tidyverse,
broom,
ggbeeswarm,
survminer,
survival,
tidytext,
cowplot)
figure_01 <-
plot_grid(survival_data_long_hstressed_b_p,
mig_all_p)
figure_01
figure_01 <-
plot_grid(survival_data_long_hstressed_b_p,
mig_all_p,
align = 'hv')
figure_01
ggsave(plot = figure_01,
filename = 'Figure-01.png',
dpi = 900,
width = 2500,
height = 10000,
units = "px")
ggsave(plot = figure_01,
filename = 'Figure-01.png',
dpi = 900,
width = 5000,
height = 10000,
units = "px")
ggsave(plot = figure_01,
filename = 'Figure-01.png',
dpi = 900,
width = 7500,
height = 10000,
units = "px")
